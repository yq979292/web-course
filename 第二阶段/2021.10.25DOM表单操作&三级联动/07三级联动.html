<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./city_code.js"></script>
</head>
<body>
    <select id="province"></select>
    <select id="city"></select>
    <select id="area"></select>
</body>
<script>
    var province=document.getElementById("province");
    // console.log(data)
    // 插入省份
    var data=data.slice(15);
    for(var i=0;i<data.length;i++){
        province.innerHTML+=`
            <option>${data[i].name}</option>
        `
    }
    // 插入对应省份的市
    var city_list=data[0].city;
    for(var i=0;i<city_list.length;i++){
        city.innerHTML+=`
            <option>${city_list[i].name}</option>
        `
    }
    // 插入对应省份的市的区
    var area_list=data[0].city[0].area;
    for(var i=0;i<area_list.length;i++){
        area.innerHTML+=`
            <option>${area_list[i].name}</option>
        `
    }

    // 选择省份
    province.onchange=function(){
        // 清空市
        city.innerHTML="";
        // 更新对应省份的市
        var city_list=data[province.selectedIndex].city;
        // 有市
        if(city_list){
            for(var i=0;i<city_list.length;i++){
                city.innerHTML+=`
                    <option>${city_list[i].name}</option>
                `
            }
            // 插入区
            var area_list=data[province.selectedIndex].city[0].area;
            area.innerHTML="";
            if(area_list){
                for(var i=0;i<area_list.length;i++){
                    area.innerHTML+=`
                        <option>${area_list[i].name}</option>
                    `
                }
            }
        }
    }

    //选择市
    city.onchange=function(){
        // 插入区
        var area_list=data[province.selectedIndex].city[city.selectedIndex].area;
        area.innerHTML="";
        if(area_list){
            for(var i=0;i<area_list.length;i++){
                area.innerHTML+=`
                    <option>${area_list[i].name}</option>
                `
            }
        }
    }



</script>
</html>